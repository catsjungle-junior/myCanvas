<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Examples</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
<style>
	body{text-align: center;background-color: #000;}
	#c1{background-color: #fff;}
</style>
<script src="js/resource.js"></script>
<script src="js/common.js"></script>
<script src="js/fish.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function(){

	var c1 = document.getElementById('c1');
	var gd = c1.getContext('2d');
	var aFish = [];
	
	loadImages(j_imgs,function(imgs){
		

		var f1 = new Fish(imgs.fish1, 55, 37, 0, 4);
		var f2 = new Fish(imgs.fish2, 78, 64, 0, 4);

		aFish.push(f1);
		aFish.push(f2);

		//绘制
		setInterval(function(){
			gd.clearRect(0, 0, c1.width, c1.height);

			for(var i = 0;i<aFish.length;i++){
				aFish[i].move();
				aFish[i].draw(gd);
			}
			
			
		},16);
		//移动 换帧
		setInterval(function(){
			for(var i=0;i<aFish.length;i++){
				aFish[i].nextFrame();
			}
		},150);
	},  function(){
		alert('加载失败，请刷新重试')
	});
}, false);
	
</script>
</head>
<body>
   <canvas id="c1" width="800" height="600"></canvas>
</body>
</html>